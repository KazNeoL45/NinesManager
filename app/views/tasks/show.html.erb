<div class="max-w-4xl">

  <div class="bg-white rounded-3xl border border-gray-200 shadow-sm p-10 space-y-10">

    <div class="flex justify-between items-start gap-6">
      <div class="space-y-2">
        <h1 class="text-3xl text-gray-900">
          <%= @task.title %>
        </h1>
        <%= link_to @project.name, @project, class: "text-gray-500 hover:text-indigo-600 transition" %>
      </div>

      <div class="flex gap-2">
        <%= link_to "Edit",
          edit_project_task_path(@project, @task),
          class: "px-4 py-2 rounded-xl border border-gray-300 text-gray-700 hover:bg-gray-50 transition" %>

        <%= button_to "Delete",
          project_task_path(@project, @task),
          method: :delete,
          data: { turbo_confirm: "Are you sure?" },
          class: "px-4 py-2 rounded-xl border border-red-300 text-red-700 hover:bg-red-50 transition" %>
      </div>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-4 gap-8">

      <div class="space-y-2">
        <p class="text-sm text-gray-500">Priority</p>
        <span class="inline-flex px-3 py-1 rounded-full text-sm
          <%= @task.priority == 'urgent' ? 'bg-red-100 text-red-700' :
              @task.priority == 'high' ? 'bg-orange-100 text-orange-700' :
              @task.priority == 'medium' ? 'bg-yellow-100 text-yellow-700' :
              'bg-green-100 text-green-700' %>">
          <%= @task.priority.capitalize %>
        </span>
      </div>

      <div class="space-y-2">
        <p class="text-sm text-gray-500">Status</p>
        <span class="inline-flex px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-sm">
          <%= @task.status.humanize %>
        </span>
      </div>

      <% if @task.due_date %>
        <div class="space-y-2">
          <p class="text-sm text-gray-500">Due date</p>
          <p class="text-gray-900">
            <%= @task.due_date.strftime("%B %d, %Y") %>
          </p>
        </div>
      <% end %>

      <% if @task.user %>
        <div class="space-y-2">
          <p class="text-sm text-gray-500">Assigned to</p>
          <p class="text-gray-900">
            <%= @task.user.name %>
          </p>
        </div>
      <% end %>

    </div>

    <% if @task.description.present? %>
      <div class="space-y-3">
        <p class="text-sm text-gray-500">Description</p>
        <div class="prose max-w-none text-gray-900">
          <%= simple_format(@task.description) %>
        </div>
      </div>
    <% end %>

  </div>

  <div class="mt-6">
    <%= link_to "Back to project",
      @project,
      class: "text-gray-500 hover:text-indigo-600 transition" %>
  </div>

</div>
